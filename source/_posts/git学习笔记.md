---
title: git学习笔记
date: 2022-08-30 15:29:37
tags: 
  - 学习笔记
  - git
categories: 学习笔记
label: 这是一篇关于git的知识点总结
top_img: "../image/背景3.jpeg"
cover: "../image/背景3.jpeg"
description: 这是一篇关于git的知识点总结
---

# git

## git bash窗口两种方法快速粘贴

第一种方法：

  右键 -> 点击 Paste。即可粘贴已复制的内容

第二种方法：点击鼠标中间的滚轮。

## 配置用户信息
```
git config --global user.name "zhanhu"

git config --global user.email "邮箱地址"
```
用了global选项，只需要运行一次，永久生效

## 检查配置信息

查看所有的全局配置项
```
git config --list --global
```
查看指定的全局配置项
```
git config user.name

git config user.email
```
## 获取帮助信息
```
git help 命令名
```
这个命令是在无需联网状态下就可以在浏览器打开帮助手册

如果不想要查看完整的手册，可以用-h选项在终端里面获得帮助
```
git 命令名 -h
```
## 获取git仓库的两种方式

1、将尚未进行版本控制的本地目录转换为git仓库

步骤：（1）在项目目录中，通过鼠标右键打开git bash

（2）执行git init命令将当前的目录转化为git仓库

这时你可以在里面看见一个.git的隐藏目录，如果你发现没有，俺么点击上面的查看，勾选显示隐藏目录选项即可

2、从其他服务器克隆一个已存在的git仓库

## 检查文件的状态

可以使用 git status命令查看文件处于什么状态

以精简的方式显示文件状态：
```
git status -s

或者

git status --short
```
这时，未跟踪文件前面会有红色的？？标记

新添加到暂存区的文件前面有绿色的A标记

修改过的，没有放入暂存区的文件前面有红色的M标记

绿色大写的D表示该文件已被移除

## 跟踪新文件
```
git add 文件名
```
## 提交更新
```
git comit -m "新建了一个index.html文件"
```
-m后面那个是本次的提交信息，用来对提交的内容做进一步的描述

## 对已提交的文件进行修改

如果你修改了原来已经提交了的文件的内容，那么他的文件状态就会变成modified。

## 暂存已修改的文件

如果要暂存修改，需要再次运行git add 命令，这个命令是个多功能的命令，这个命令主要有3个功效：1、可以用它开始跟踪新文件

2、把已跟踪的，且已修改的文件放到暂存区

3、把有冲突的文件标记为已解决的状态

## 提交已暂存的文件

再次运行``` git commit -m "提交消息"```命令，就可以将暂存区中记录的index.html的快照，提交到git仓库进行保存

## 撤销对文件的修改

把对工作区中对应文件的修改，还原成git仓库中所保存的版本

操作的结果：所有的修改会丢失，且无法恢复，危险性比较高，请慎重操作

```git checkout -- 要撤销的文件名```

撤销操作的本质：用git仓库中保存的文件，覆盖工作区指定的文件

## 向暂存区中一次性添加多个文件
```
get add .   
```
注意那个.是英文的

这个很常用

## 取消暂存的文件
```
git reset HEAD 要移除的文件名称
```
如果要把所有的都移除，那么就是```git reset HEAD . ```

## 跳过使用暂存区

git标准的工作流程：工作区——暂存区——git仓库，跳过之后变成

工作区——git仓库

方法是只要在提交的时候，给git commit加上-a选项，就会自动把已经跟踪过的文件暂存起来一并提交
```
git commit -a -m "描述信息"
```
## 移除文件

从git仓库中移除文件的方式有两种：

1、从git仓库和工作区中同时移除对应的文件
```
git rm -f 文件名
```
2、只从git仓库中移除指定的文件，但保留工作区中对应的文件
```
git rm --cached 文件名
```
## git忽略文件

一般我们总会有些文件无需纳入git的管理，也不希望他们总出现在未跟踪文件列表，在这种情况下，我们可以创建一个名为.gitignore的配置文件，列出要忽略的文件的匹配模式

格式规范如下

以#开头的是注释

以/结尾的是目录

以/开头防止递归

以！开头表示取反

可以使用glob模式进行文件和文件夹的匹配（glob指简化了的正则表达式）

glob模式：

*匹配零个或多个任意字符

[abc]匹配任何一个列在方括号中的字符

？只匹配一个任意字符

在方括号中使用短划线分隔两个字符，表示所有在这两个字符范围内的都可以匹配（比如[0-9]表示匹配所有0-9的数字）

**表示匹配任意中间字符（比如a/ * */z可以匹配a/z\a/b/z或者a/b/c/z等）

## 查看提交历史
```
git log
```
按时间先后顺序列出所有的提交历史，最近的提交排在最上面
```
git log -2
```
只显示最新的两条提交历史，数字可以按需进行填写
```
git log -2 --pretty=oneline
```
在一行上展示最近两条提交的历史，并自定义输出的格式

%h 提交的简写哈希值 %an 作者名字 %ar 作者修订时间，按多久以前的方式显示  %s 提交说明 |自定义分隔符，写什么符号都可以
```
git log -2 --pretty=format:"%h |%an | %ar | %s"
```
## 回退到指定的版本

在一行上展示所有的提交历史
```
git log -2 --pretty=oneline
```
使用git reet --hard 命令，根据指定的提交ID回退到指定的版本
```
git reset --hard <CommitID> 其中这里面的id可以复制粘贴上面历史显示出来的
```
在旧版本中使用 ```git reflog --pretty=oneline```命令，查看命令操作的历史
```
git reflog --pretty=oneline
```
再次根据最新的提交ID，跳转到最新的版本
```
git reset --hard <CommitID>
```
# github

## 创建空白远程仓库

比如在github中，先点击右上角的+号新建一个仓库，然后填入仓库名称和仓库描述，点击创建即可

## 远程仓库的两种访问方式

HTTPS：零配置，但是每次访问仓库时，需要重复输入github账号和密码才能访问成功

SSH：需要进行额外的配置，但是配置成功之后，每次访问仓库时，不需要重复输入github的账号和密码

在实际开发中，推荐ssh的方式访问仓库

## 基于https将本地仓库上传到github

1、本地没有现成的Git仓库
```
git init
git commit -m "提交描述"
git remote add origin github上面仓库的地址
git push -u origin master
```
2、本地现有Git仓库
直接执行上述的倒数2个语句即可

首先在github里面点击https方式，然后在电脑本地的那个项目里面打开git bash here，然后把下面的对应命令一行一行粘贴进去运行就可以了

## 修改了本地项目的文件后怎么将最新版本上传到github

首先，先在本地项目里面打开 git bash，然后依次输入命令

git status -s  发现他的红色的？？

git add .

git status -s 发现他的绿色的A

git commit -m "新增了巴拉巴拉"

然后运行 git push命令就可以了

## 配置ssh并将远程仓库克隆到本地

打开git bash

输入以下命令，邮箱要写成注册github的邮箱

ssh-keygen -t rsa -b 4096 -C "github的邮箱"

连续敲击3次回车

会存在自己c盘，用户，asua，里面的.ssh文件

我们需要把里面pub结尾的那个文件里面的内容配置到github里面

使用记事本打开这个pub结尾的文件，复制里面的文本内容

在github里面点击头像，settings，ssh and GPG Keys new SSH key

将刚刚文件中的内容，粘贴到key对应的文本框中

在title文本框里任意填写一个名称，用来标识这个key从何而来

## 检测github里面的ssh key是否配置成功

打开git bash ，输入如下的命令并回车执行

ssh -T git@github.com

输入yes之后如果能看见自己的用户名和successfully说明配置成功了

## 使用ssh的方式将项目上传到github

首先在当前项目的根目录中打开 git bash

git init

git status -s

git add .

git status -s

git commit -m "初始化项目"

创建一个新的空白仓库

运行里面提示的3行代码

运行完刷新就能看见上传成功了

## 将远程仓库克隆到本地

打开git bash,输入以下命令并执行

git clone 远程仓库的地址

## 查看分支列表

git branch

可以看见当前git仓库中所有的分支列表，*表示当前所处的分支

## 创建新分支

git branch 分支名称

使用这个命令，可以基于当前分支，创建一个新的分支，此时，新分支中的代码和当前分支完全一样

注意：执行完创建分支的命令之后，用户当前所处的位置还是master分支

## 切换分支

git checkout 新分支名

## 快速创建并切换分支

git checkout -b 新分支名称

## 合并分支

功能分支的代码开发并测试完毕后，使用以下命令，将完成后的代码合并到master分支上

git add .

git commit -m "描述"

git checked master

git merge 要合并的分支名

注意合并的方式：比如你要把C分支的代码合并到A分支，那么你就必须先切换到A分支，在运行merge命令来合并C分支

## 如何在功能分支上进行代码开发

这个只需要在git bash里面把当前的分支切换成对应的功能分支，这时，本地的代码就会变成对应功能分支里面的代码，然后你用vscode打开并进行开发即可。

## 删除分支

当把功能分支的代码合并到master主分支上以后，就可以使用如下的命令，删除对应的分支：

git branch -d 分支名称

注意：比如我要删除A分支，那么我不能处于A分支上面

## 遇到冲突时的分支合并

如果在两个不同的分支中，对同一个文件进行了不同的修改，git就没办法干净的合并他们，此时，我们需要打开这些包含冲突的文件然后手动解决冲突